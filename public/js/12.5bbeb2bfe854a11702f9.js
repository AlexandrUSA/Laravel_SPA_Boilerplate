webpackJsonp([12],{"+FWo":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Xxa5"),s=e.n(i),r=(e("NYxO"),e("mtWM")),o=e.n(r);function n(t){return function(){var a=t.apply(this,arguments);return new Promise(function(t,e){return function i(s,r){try{var o=a[s](r),n=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(n).then(function(t){i("next",t)},function(t){i("throw",t)});t(n)}("next")})}}a.default={props:{id:{type:[Number,String],required:!0}},data:function(){return{item:{}}},computed:{avatarMsg:function(){return this.item.avatar?this.$t("change_image"):this.$t("add_image")},avatar:function(){return this.item.avatar?this.item.avatar:"/storage/avatars/no-avatar.jpg"}},created:function(){this.load()},methods:{load:function(){var t=n(s.a.mark(function t(){var a,e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/employees/"+this.id);case 2:a=t.sent,e=a.data,this.item=e;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),uploadPhoto:function(){var t=n(s.a.mark(function t(a){var e,i,r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.getElementById("avatar-file").files[0]){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,(i=new FormData).append("image",e),t.next=8,o.a.post("/api/employees/"+this.id+"/avatar",i,{headers:{"Content-Type":"multipart/form-data"}});case 8:r=t.sent,n=r.data,this.item.avatar=n,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error("Не загрузился аватар",t.t0);case 16:case"end":return t.stop()}},t,this,[[3,13]])}));return function(a){return t.apply(this,arguments)}}()}}},AMlM:function(t,a,e){var i=e("VU/8")(e("+FWo"),e("Asm9"),!1,function(t){e("BwQT")},"data-v-63c3faf1",null);t.exports=i.exports},Asm9:function(t,a){t.exports={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"employee"},[a("h2",[this._v(this._s(this.$t("employee")))]),this._v(" "),a("div",{staticClass:"employee__avatar"},[a("div",{staticClass:"employee__avatar-container"},[a("div",{staticClass:"avatar__overlay"},[a("upload-button",{attrs:{title:this.avatarMsg,selectedCallback:this.uploadPhoto}})],1),this._v(" "),a("img",{attrs:{src:this.item.avatar,alt:"avatar"}})])]),this._v(" "),a("div",{staticClass:"employee__descr"},[a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("name"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.first_name))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("last_name"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.last_name))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("patronymic"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.patronymic?this.item.patronymic:""))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("position"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.position))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("phone_number"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.phone_number))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("salary"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.salary)+" руб.")])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("address"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.address))])]),this._v(" "),a("v-divider"),this._v(" "),a("p",{staticClass:"employee__text"},[a("b",[this._v(this._s(this.$t("birthday"))+":")]),this._v(" "),a("i",[this._v(this._s(this.item.birthday))])]),this._v(" "),a("v-btn",{attrs:{block:"",to:{name:"employeeEdit",params:{id:this.item.id,employee:this.item}}}},[this._v("\n\t\t\t\t\t"+this._s(this.$t("change_data"))+"\n\t\t\t\t")])],1)])},staticRenderFns:[]}},BwQT:function(t,a,e){var i=e("olE/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("6243e4d6",i,!0)},"olE/":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,'[data-v-63c3faf1]{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Roboto,sans-serif}h2[data-v-63c3faf1]{-ms-flex-preferred-size:100%;flex-basis:100%}.avatar__overlay[data-v-63c3faf1],.employee[data-v-63c3faf1],p[data-v-63c3faf1]{display:-moz-flex;display:-ms-flex;display:-o-flex;display:-webkit-box;display:-ms-flexbox;display:flex}p[data-v-63c3faf1]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:0;padding:10px;-webkit-transition:background-color .3s;transition:background-color .3s}p[data-v-63c3faf1]:hover{background-color:hsla(0,0%,100%,.1)}.employee[data-v-63c3faf1]{-ms-flex-wrap:wrap;-o-flex-wrap:wrap;flex-wrap:wrap;width:90%;margin:30px auto;padding:15px;border-radius:5px;-webkit-box-shadow:0 0 13px rgba(0,0,0,.5);box-shadow:0 0 13px rgba(0,0,0,.5)}.employee[data-v-63c3faf1]:after,.employee[data-v-63c3faf1]:before{content:"";display:block;clear:both}.employee__avatar[data-v-63c3faf1]{width:30%}.employee__avatar-container[data-v-63c3faf1]{position:relative;width:100%;margin:0 auto;-webkit-box-shadow:0 0 13px rgba(0,0,0,.5);box-shadow:0 0 13px rgba(0,0,0,.5);border-radius:3px;overflow:hidden}.avatar__overlay[data-v-63c3faf1]{position:absolute;top:0;left:0;z-index:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(0,0,0,.3);width:100%;height:100%;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.employee__avatar:hover .avatar__overlay[data-v-63c3faf1]{opacity:1}.employee__avatar img[data-v-63c3faf1]{display:block;width:100%;margin:0 auto}.employee__descr[data-v-63c3faf1]{width:70%;padding:10px 45px;font-size:18px}',""])}});
//# sourceMappingURL=12.5bbeb2bfe854a11702f9.js.map