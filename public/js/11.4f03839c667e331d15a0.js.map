{"version":3,"file":"js/11.4f03839c667e331d15a0.js","sources":["webpack:///js/11.4f03839c667e331d15a0.js"],"sourcesContent":["webpackJsonp([11],{\"85tf\":function(t,e,a){var n=a(\"oS1W\");\"string\"==typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);a(\"rjj0\")(\"460a4d40\",n,!0)},Ih3c:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(\"NYxO\"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={middleware:\"auth\",data:function(){return{showInfo:!1,selectedEmployees:[],selectedPositions:[],snackbarShow:!1,snackbarTimeout:1e4,search:\"\",selected:[],dialog:!1,deleteWindow:!1,deleteCategory:null,delMode:\"single\",departmentCreate:!1,departmentName:\"\",headers:[{text:\"Номер\",align:\"left\",sortable:!1},{text:\"Наименование\",value:\"first_name\"},{text:\"Должностей\",value:\"last_name\"},{text:\"Сотрудников\",value:\"position\"},{text:\"\",sortable:!1}]}},computed:o({deleteMsg:function(){return 1==this.selected.length?this.$t(\"delete_item_confirm\"):this.$t(\"delete_items_confirm\")}},Object(n.mapGetters)({items:\"departments/departments\",positions:\"positions/positions\",employees:\"employees/employees\"})),methods:o({openInfoPanel:function(t){this.selectedPositions=this.getPositions(t),this.selectedEmployees=this.getEmployees(t),this.showInfo=!0},getPositions:function(t){var e=[];return this.positions.forEach(function(a){a.department_id==t&&e.push(a)}),e},getEmployees:function(t){var e=this,a=[];return this.getPositions(t).forEach(function(t){e.employees.forEach(function(e){e.position_id==t.id&&a.push(e)})}),a},addConfirm:function(){this.addItem({title:this.departmentName}),this.departmentCreate=!1},addCancel:function(){this.departmentCreate=!1},deleteDialog:function(t){this.deleteWindow=!0,this.deleteCategory=t},deleteConfirm:function(){var t=this;this.selected.forEach(function(e){return t.deleteItem(e.id)}),this.selected=[],this.deleteWindow=!1,this.editedID=null,this.snackbarShow=!0},deleteCancel:function(){this.deleteCategory=null,this.deleteWindow=!1},close:function(){this.dialog=!1,this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}},Object(n.mapActions)({loadItems:\"departments/load\",addItem:\"departments/add\",editItem:\"departments/edit\",deleteItem:\"departments/remove\"}))}},VzEP:function(t,e,a){var n=a(\"VU/8\")(a(\"Ih3c\"),a(\"b5Ng\"),!1,function(t){a(\"85tf\")},\"data-v-2853d05c\",null);t.exports=n.exports},b5Ng:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"v-dialog\",{attrs:{\"max-width\":\"500px\"},model:{value:t.deleteWindow,callback:function(e){t.deleteWindow=e},expression:\"deleteWindow\"}},[a(\"v-card\",[a(\"v-card-title\",[a(\"span\",{staticClass:\"headline\"},[t._v(t._s(t.$t(\"attention\")))])]),t._v(\" \"),a(\"v-card-text\",[a(\"v-flex\",{attrs:{xs12:\"\"}},[t._v(t._s(t.deleteMsg))])],1),t._v(\" \"),a(\"v-card-actions\",[a(\"v-btn\",{attrs:{outline:\"\",color:\"info\"},nativeOn:{click:function(e){t.deleteConfirm(e)}}},[t._v(t._s(t.$t(\"ok\")))]),t._v(\" \"),a(\"v-btn\",{attrs:{outline:\"\",color:\"error\"},nativeOn:{click:function(e){t.deleteCancel(e)}}},[t._v(t._s(t.$t(\"cancel\")))])],1)],1)],1),t._v(\" \"),a(\"v-dialog\",{attrs:{\"max-width\":\"500px\"},model:{value:t.departmentCreate,callback:function(e){t.departmentCreate=e},expression:\"departmentCreate\"}},[a(\"v-card\",[a(\"v-card-title\",[a(\"span\",{staticClass:\"headline\"},[t._v(\"Новое подразделение\")])]),t._v(\" \"),a(\"v-card-text\",[a(\"v-flex\",{attrs:{xs12:\"\"}},[a(\"v-text-field\",{attrs:{label:\"Наименование\"},model:{value:t.departmentName,callback:function(e){t.departmentName=e},expression:\"departmentName\"}})],1)],1),t._v(\" \"),a(\"v-card-actions\",[a(\"v-btn\",{attrs:{outline:\"\",color:\"info\"},nativeOn:{click:function(e){t.addConfirm(e)}}},[t._v(t._s(t.$t(\"ok\")))]),t._v(\" \"),a(\"v-btn\",{attrs:{outline:\"\",color:\"error\"},nativeOn:{click:function(e){t.addCancel(e)}}},[t._v(t._s(t.$t(\"cancel\")))])],1)],1)],1),t._v(\" \"),a(\"v-card\",[a(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{headers:t.headers,items:t.items,\"item-key\":\"id\",\"no-results-text\":t.$t(\"no_match_found\"),\"rows-per-page-text\":t.$t(\"strings\")},scopedSlots:t._u([{key:\"items\",fn:function(e){return[a(\"td\",[t._v(t._s(e.item.id))]),t._v(\" \"),a(\"td\",[a(\"v-edit-dialog\",{attrs:{\"return-value\":e.item.title,lazy:\"\"},on:{\"update:returnValue\":function(a){t.$set(e.item,\"title\",a)}}},[t._v(\" \"+t._s(e.item.title)+\"\\r\\n                        \"),a(\"v-text-field\",{attrs:{slot:\"input\",label:\"Edit\",\"single-line\":\"\",counter:\"\"},on:{change:function(a){t.editItem(e.item)}},slot:\"input\",model:{value:e.item.title,callback:function(a){t.$set(e.item,\"title\",a)},expression:\"props.item.title\"}})],1)],1),t._v(\" \"),a(\"td\",[t._v(t._s(t.getPositions(e.item.id).length))]),t._v(\" \"),a(\"td\",[t._v(t._s(t.getEmployees(e.item.id).length))]),t._v(\" \"),a(\"td\",[a(\"v-btn\",{attrs:{outline:\"\",round:\"\"},on:{click:function(a){t.openInfoPanel(e.item.id)}}},[t._v(t._s(t.$t(\"details\")))])],1)]}}])},[a(\"template\",{slot:\"no-data\"},[a(\"v-alert\",{attrs:{value:!0,color:\"red\",icon:\"warning\"}},[t._v(\"\\r\\n                    Нет данных :(\\r\\n                \")])],1)],2),t._v(\" \"),a(\"div\",{staticClass:\"table__buttons\"},[a(\"v-btn\",{attrs:{fab:\"\",dark:\"\",large:\"\",color:\"cyan\"},on:{click:function(e){t.departmentCreate=!0}}},[a(\"v-icon\",{attrs:{dark:\"\"}},[t._v(\"add\")])],1),t._v(\" \"),a(\"transition\",{attrs:{\"enter-active-class\":\"buttonEnter\",\"leave-active-class\":\"buttonLeave\",mode:\"out-in\"}},[a(\"v-btn\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.selected.length>0,expression:\"selected.length > 0\"}],staticClass:\"delete-btn\",attrs:{fab:\"\",large:\"\",dark:\"\"},on:{click:function(e){t.deleteDialog(t.selected)}}},[a(\"v-icon\",[t._v(\"delete\")])],1)],1)],1),t._v(\" \"),a(\"v-snackbar\",{attrs:{timeout:t.snackbarTimeout,top:\"\",\"multi-line\":\"\",color:\"info\"},model:{value:t.snackbarShow,callback:function(e){t.snackbarShow=e},expression:\"snackbarShow\"}},[t._v(\"\\r\\n            \"+t._s(t.$t(\"delete_done\"))+\"\\r\\n            \"),a(\"v-btn\",{attrs:{flat:\"\",color:\"pink\"},nativeOn:{click:function(e){t.snackbarShow=!1}}},[t._v(t._s(t.$t(\"ok\")))])],1)],1)],1)},staticRenderFns:[]}},oS1W:function(t,e,a){(t.exports=a(\"FZ+f\")(!1)).push([t.i,\".btn[data-v-2853d05c]{text-transform:none!important}li[data-v-2853d05c]{margin:5px!important;-webkit-box-shadow:0 0 15px #000;box-shadow:0 0 15px #000}.table__buttons[data-v-2853d05c]{position:absolute;bottom:-50px}.dialog__activator[data-v-2853d05c]{position:absolute;bottom:-30px;left:40px;z-index:1}.card__actions[data-v-2853d05c],.card__title[data-v-2853d05c]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.buttonEnter[data-v-2853d05c]{-webkit-animation:buttonEnter-data-v-2853d05c .3s cubic-bezier(.09,.9,.48,1.64);animation:buttonEnter-data-v-2853d05c .3s cubic-bezier(.09,.9,.48,1.64)}.buttonLeave[data-v-2853d05c]{-webkit-animation:buttonLeave-data-v-2853d05c .3s cubic-bezier(.52,-.44,.88,-.45);animation:buttonLeave-data-v-2853d05c .3s cubic-bezier(.52,-.44,.88,-.45)}@-webkit-keyframes routerEnter-data-v-2853d05c{0%{opacity:0}to{opacity:1}}@keyframes routerEnter-data-v-2853d05c{0%{opacity:0}to{opacity:1}}@-webkit-keyframes routerLeave-data-v-2853d05c{0%{opacity:1}to{opacity:0}}@keyframes routerLeave-data-v-2853d05c{0%{opacity:1}to{opacity:0}}@-webkit-keyframes buttonEnter-data-v-2853d05c{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes buttonEnter-data-v-2853d05c{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes buttonLeave-data-v-2853d05c{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}@keyframes buttonLeave-data-v-2853d05c{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}\",\"\"])}});\n\n\n// WEBPACK FOOTER //\n// js/11.4f03839c667e331d15a0.js"],"mappings":"AAAA","sourceRoot":""}