webpackJsonp([3],{LyER:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{label:e.$t("name"),rules:e.form.nameRules,counter:70,"prepend-icon":"person",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"name"}}),e._v(" "),r("v-text-field",{attrs:{label:e.$t("email"),rules:e.form.emailRules,"prepend-icon":"email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"email"}}),e._v(" "),r("v-btn",{attrs:{large:"",block:"",loading:e.form.busy,type:"submit"}},[e._v(e._s(e.$t("update")))])],1)},staticRenderFns:[]}},N5YY:function(e,t,r){var n=r("VU/8")(r("rNUl"),r("p+ww"),!1,null,null,null);e.exports=n.exports},"RNK/":function(e,t,r){var n=r("yLz6");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("11b6be06",n,!0)},alMQ:function(e,t,r){var n=r("VU/8")(r("jZJx"),r("LyER"),!1,null,null,null);e.exports=n.exports},j4WV:function(e,t,r){var n=r("VU/8")(r("ktDr"),r("mpIy"),!1,function(e){r("RNK/")},"data-v-122d6c7e",null);e.exports=n.exports},jZJx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),o=r.n(n),a=r("yKuP"),s=r.n(a),i=r("NYxO"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=this;t.default={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{date:null,menu:!1,valid:!1,form:new s.a({name:"",nameRules:[function(e){return!!e||c.$t("required_value")},function(e){return e.length<=70||"Name must be less than 70 characters"}],last_name:"",patronymic:"",email:"",emailRules:[function(e){return!!e||c.$t("required_value")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],address:"",phone_number:null})}},computed:u({},Object(i.mapGetters)({user:"auth/user",employees:"employees/employees"}),{employee:function(){var e=this;return this.employees.find(function(t){return t.user_id==e.user.employee_id})}}),created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},methods:{update:function(){var e,t=(e=o.a.mark(function e(){var t,r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.form.patch("/api/settings/profile");case 2:t=e.sent,r=t.data,(n=Object.assign({},this.employee)).first_name=r.name,this.$store.commit("employees/edit",n),this.$store.dispatch("auth/updateUser",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var s=t[o](a),i=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()}}},ktDr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("NYxO"),o=r("alMQ"),a=r.n(o),s=r("N5YY"),i=r.n(s),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default={middleware:"auth",components:{"settings-password":i.a,"settings-profile":a.a},computed:u({},Object(n.mapGetters)({user:"auth/user",theme:"theme/dark"}),{tabs:function(){return[{id:0,icon:"user",name:this.$t("profile"),component:"settings-profile"},{id:1,icon:"lock",name:this.$t("password"),component:"settings-password"}]},image:function(){return!!this.user&&this.user.photo_url}}),created:function(){this.dark=this.theme},watch:{dark:function(){this.switchTheme(this.dark)}},methods:Object(n.mapActions)({switchTheme:"theme/switchTheme"})}},mpIy:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[e._l(e.tabs,function(t){return r("v-tab",{key:t.id,attrs:{ripple:""}},[r("fa",{attrs:{icon:t.icon}}),e._v("\n    "+e._s(t.name)+"\n  ")],1)}),e._v(" "),e._l(e.tabs,function(e){return r("v-tab-item",{key:e.id},[r("v-card",{attrs:{flat:""}},[r(e.component,{tag:"component"})],1)],1)})],2)},staticRenderFns:[]}},"p+ww":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{label:e.$t("new_password"),rules:e.passwordRules,counter:160,"prepend-icon":"vpn_key",type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"password"}}),e._v(" "),r("v-text-field",{attrs:{label:e.$t("confirm_password"),rules:e.passwordRules,counter:160,"prepend-icon":"vpn_key",type:"password",required:""},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"password_confirmation"}}),e._v(" "),r("v-btn",{attrs:{large:"",block:"",loading:e.form.busy,type:"submit"}},[e._v(e._s(e.$t("update")))])],1)},staticRenderFns:[]}},rNUl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),o=r.n(n),a=r("yKuP"),s=r.n(a);t.default={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{valid:!1,form:new s.a({password:"",password_confirmation:""}),passwordRules:[function(e){return!!e||"Введите значение"}]}},methods:{update:function(){var e,t=(e=o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.form.patch("/api/settings/password");case 2:this.form.reset(),this.$router.go(-1);case 4:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var s=t[o](a),i=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()}}},yLz6:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,".card[data-v-122d6c7e]{padding:30px}.svg-inline--fa[data-v-122d6c7e]{margin-right:15px}.tabs[data-v-122d6c7e]{margin:30px}",""])}});
//# sourceMappingURL=3.a306f682b38001455a36.js.map